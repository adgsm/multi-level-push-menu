(function(a){a.fn.multilevelpushmenu=function(c){var b=arguments;returnValue=null;this.each(function(){var G=this,l=a(this),i=(l.context!=undefined)?l:a("body"),L=(c.menu!=undefined)?c.menu:l.find("nav"),r=k()?"touchstart":"click";var K=a.extend({container:i,containersToPush:null,menuID:((i.prop("id")!=undefined&&i.prop("id")!="")?i.prop("id"):this.nodeName.toLowerCase())+"_multilevelpushmenu",wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menu:L,menuWidth:0,menuHeight:0,collapsed:false,backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){}},c);if(!a.data(G,"plugin_multilevelpushmenu")){a.data(G,"plugin_multilevelpushmenu",K);G.settings=a.data(G,"plugin_multilevelpushmenu")}var A={init:function(){return g.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return z.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return o.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return f.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return D.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return H.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return m.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return w.apply(this,Array.prototype.slice.call(arguments))},option:function(){return e.apply(this,Array.prototype.slice.call(arguments))}};function q(N){if(N.stopPropagation&&N.preventDefault){N.stopPropagation();N.preventDefault()}else{N.cancelBubble=true;N.returnValue=false}}function M(){var N=a("<nav />").prop({id:G.settings.menuID,className:G.settings.wrapperClass}).appendTo(G.settings.container);d(G.settings.menu,N)}function d(O,N){if(O.level==undefined){O.level=0}a.each(O,function(){var T=a("<div />").attr({"class":"levelHolderClass","data-level":O.level,style:"margin-left: "+((O.level==0&&!G.settings.collapsed)?0:"-200%")}).appendTo(N);var P=(v(G.settings.menuWidth)||(J(G.settings.menuWidth)&&G.settings.menuWidth>0));if(P){T.width(G.settings.menuWidth)}var R=a("<h2 />").text(this.title).appendTo(T);var Q=a("<i />").prop({"class":"floatRight cursorPointer "+this.icon}).prependTo(R);Q.bind(r,function(U){h(U,T,O)});if(O.level>0){B(T)}var S=a("<ul />").appendTo(T);a.each(this.items,function(){var V=a("<li />").appendTo(S);var U=a("<a />").prop({href:this.link}).text(this.name).appendTo(V);var W=a("<i />").prop({"class":"floatRight "+this.icon}).prependTo(U);if(this.items){U.bind(r,function(X){F(X,T,V)});j(U);this.items.level=O.level+1;d(this.items,V)}else{U.bind(r,function(X){t(X,T,V)})}})})}function p(){var N=G.settings.menu;if(N.length==0){return false}N.prop({id:G.settings.menuID,className:G.settings.wrapperClass});n(N)}function n(N){if(N.level==undefined){N.level=0}a.each(N,function(){var S=a("<div />").attr({"class":"levelHolderClass","data-level":N.level,style:"margin-left: "+((N.level==0&&!G.settings.collapsed)?0:"-200%")}).appendTo(N);var O=(v(G.settings.menuWidth)||(J(G.settings.menuWidth)&&G.settings.menuWidth>0));if(O){S.width(G.settings.menuWidth)}var Q=N.children("h2");Q.appendTo(S);var P=Q.children("i");P.addClass("floatRight cursorPointer");P.bind(r,function(T){h(T,S,N)});if(N.level>0){B(S)}var R=N.children("ul");R.appendTo(S);a.each(R.children("li"),function(){var U=a(this);var T=U.children("a");var V=T.children("i");V.addClass("floatRight");if(U.children("ul").length>0){T.bind(r,function(W){F(W,S,U)});j(T);U.level=N.level+1;n(U)}else{T.bind(r,function(W){t(W,S,U)})}})})}function h(Q,P,O){if(a(G).find("div.levelHolderClass").is(":animated")){return false}G.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([Q,P,G.settings]));q(Q);if(O.level==0&&parseInt(P.css("margin-left"))<0){o()}else{var R=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).attr("data-level")>P.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0))});var N=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).attr("data-level")<=P.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0))});var S=(R.length==0&&N.length==1)?z():z(parseInt(P.attr("data-level")))}P.css("visibility","visible");P.find("."+G.settings.backItemClass).css("visibility","visible");P.find("ul").css("visibility","visible");P.removeClass(G.settings.menuInactiveClass)}function B(Q){var N=a("<div />").attr({"class":G.settings.backItemClass}).appendTo(Q);var O=a("<a />").prop({href:"#"}).text(G.settings.backText).appendTo(N);var P=a("<i />").prop({"class":"floatRight "+G.settings.backItemIcon}).prependTo(O);O.bind(r,function(R){E(R,Q)})}function E(O,N){if(a(G).find("div.levelHolderClass").is(":animated")){return false}G.settings.onBackItemClick.apply(this,Array.prototype.slice.call([O,N,G.settings]));q(O);z(parseInt(N.attr("data-level")-1))}function F(Q,P,O){if(a(G).find("div.levelHolderClass").is(":animated")){return false}G.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([Q,P,O,G.settings]));var N;q(Q);o(O.find("div:first"))}function j(N){var O=a("<i />").prop({"class":"iconSpacing "+G.settings.groupIcon}).prependTo(N)}function t(P,O,N){G.settings.onItemClick.apply(this,Array.prototype.slice.call([P,O,N,G.settings]))}function I(){var O=(a("#"+G.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a("#"+G.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,S=Math.max.apply(null,a("#"+G.settings.menuID+" div.levelHolderClass").map(function(){return a(this).width()}).get()),N=Math.max.apply(null,a("#"+G.settings.menuID+" div.levelHolderClass").map(function(){return a(this).attr("data-level")}).get()),T=S+N*(G.settings.overlapWidth+O),R=Math.max.apply(null,a("#"+G.settings.menuID+" div.levelHolderClass").map(function(){return a(this).height()}).get()),P=(v(G.settings.menuWidth)||(J(G.settings.menuWidth)&&G.settings.menuWidth>0)),Q=(v(G.settings.menuHeight)||(J(G.settings.menuHeight)&&G.settings.menuHeight>0));(P)?a("#"+G.settings.menuID+" div.levelHolderClass").width(G.settings.menuWidth):a("#"+G.settings.menuID+" div.levelHolderClass").width(S);(Q)?a("#"+G.settings.menuID).height(G.settings.menuHeight):a("#"+G.settings.menuID).height(R);i.width(T);i.height(R);y()}function y(){a("#"+G.settings.menuID+" div.levelHolderClass").each(function(){a(this).css("margin-left",((a(this).attr("data-level")==0&&!G.settings.collapsed)?0:(-2)*a(this).width()))})}function J(N){return typeof N==="number"&&parseFloat(N)==parseInt(N,10)&&!isNaN(N)}function v(N){return typeof N==="string"&&(N.indexOf("%")!=-1||N.indexOf("px")!=-1||N.indexOf("em")!=-1)}function g(){var N=(c.menu!=undefined)?M():p();I();u(G.settings.collapsed);return l}function u(N){if(N){$baseLevelHolder=a("#"+G.settings.menuID+" div.levelHolderClass:first");$baseLevelHolder.find("ul").hide();$baseLevelHolder.addClass(G.settings.menuInactiveClass);$baseLevelHolder.stop().animate({marginLeft:((-1)*$baseLevelHolder.width()+G.settings.overlapWidth)})}}function x(N){if(G.settings.containersToPush==null){return false}a.each(G.settings.containersToPush,function(){a(this).stop().animate({marginLeft:a(this).offset().left-a(this).position().left+N})})}function z(){if(a(G).find("div.levelHolderClass").is(":animated")){return false}G.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([G.settings]));var O=arguments[0],W=arguments[1],S={},P,Q,R,X=a("#"+G.settings.menuID+" div.levelHolderClass:first"),V=(O==undefined)?true:false;S.collapsingEnded=false;if(typeof O=="object"){O=O.attr("data-level")}else{if(typeof O=="string"){var N=H(O);if(N&&N.length==1){O=N.attr("data-level")}else{O=X.attr("data-level")}}else{if(O==undefined||!J(O)||O<0){O=X.attr("data-level")}}}if(W==undefined&&typeof W!="object"){W=[{method:G.settings.onCollapseMenuEnd,args:[G.settings]}]}else{a.merge(W,[{method:G.settings.onCollapseMenuEnd,args:[G.settings]}])}var U=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).attr("data-level")>O)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0))}),T=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).attr("data-level")<=O)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0))});if(T.length>0){S.prevAnimEnded=false;U.each(function(Y,Z){P=(a(Z).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(Z).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Q=(G.settings.mode=="overlap")?a(Z).width()-(U.length+T.length-a(Z).attr("data-level")-1)*(G.settings.overlapWidth+P)-P:a(Z).width()-P;a(Z).stop().animate({marginLeft:((-1)*Q),width:Q})});S.nextAnimEnded=(U.length>0)?false:true;U.last().queue(function(){S.nextAnimEnded=true;C(S,W)});T.each(function(Z,aa){P=(a(aa).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(aa).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var Y=T.filter(function(){return a(this).attr("data-level")==O});Y.css("visibility","visible");Y.find("."+G.settings.backItemClass).css("visibility","visible");Y.find("ul").css("visibility","visible");Y.removeClass(G.settings.menuInactiveClass);Q=(G.settings.mode=="overlap")?a(aa).width()-U.length*(G.settings.overlapWidth+P)-P:a(aa).width()-P;a(aa).stop().animate({width:Q,marginLeft:(a(aa).attr("data-level")==X.attr("data-level")&&V)?((-1)*a(aa).width()+(U.length+1)*G.settings.overlapWidth):0},function(){if(a(aa).attr("data-level")==X.attr("data-level")&&V){X.find("ul").hide(500,function(){X.addClass(G.settings.menuInactiveClass)})}});R=(G.settings.mode=="overlap")?((-1)*(U.length*(G.settings.overlapWidth+P))):0;if(a(aa).attr("data-level")==X.attr("data-level")&&V){x((-1)*(X.width()-P)+G.settings.overlapWidth)}else{x(R)}});T.last().queue(function(){S.prevAnimEnded=true;C(S,W)})}S.collapsingEnded=true;C(S,W);return l}function s(){if(a(G).find("div.levelHolderClass").is(":animated")){return false}G.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([G.settings]));var P=arguments[0],X=arguments[1],O,Q,S,R={},Y=a("#"+G.settings.menuID+" div.levelHolderClass:first"),Z=parseInt(Y.css("margin-left"),10)<0||Y.position().left<0,U=(P==undefined)?true:false;R.expandingEnded=false;if(X==undefined&&typeof X!="object"){X=[{method:G.settings.onExpandMenuEnd,args:[G.settings]}]}else{a.merge(X,[{method:G.settings.onExpandMenuEnd,args:[G.settings]}])}if(U){R.baseAnimEnded=false;Y.removeClass(G.settings.menuInactiveClass);Y.stop().animate({marginLeft:0},function(){Y.find("ul").show(500).last().queue(function(){R.baseAnimEnded=true;C(R,X)})});x(Y.width()-G.settings.overlapWidth)}else{if(typeof P=="object"){$selectedLevelHolder=P}else{if(typeof P=="string"){$selectedLevelHolder=H(P)}else{$selectedLevelHolder=null;a.error("Provided menu selector is not valid")}}if($selectedLevelHolder&&$selectedLevelHolder.length==1){var N=D(),W=(N.length==1)?N.attr("data-level"):0,T=$selectedLevelHolder.width();R.setToOpenAnimEnded=false;if(setToOpenHolders=m($selectedLevelHolder)){var V=a(setToOpenHolders).length-1;Y.find("ul").show(0);a(setToOpenHolders).find("ul").css("visibility","hidden");a(setToOpenHolders).find("div").css("visibility","visible");a(setToOpenHolders).find("."+G.settings.backItemClass).css("visibility","hidden");a(setToOpenHolders).each(function(aa,ab){O=(a(ab).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(ab).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Q=T-O+(V-a(ab).attr("data-level"))*(G.settings.overlapWidth+O);a(ab).stop().animate({marginLeft:0,width:(G.settings.mode=="overlap")?Q:T-O},function(){a(ab).addClass(G.settings.menuInactiveClass)})});a(setToOpenHolders).last().queue(function(){a(this).removeClass(G.settings.menuInactiveClass);R.setToOpenAnimEnded=true;C(R,X)});if(Z){x(Y.width()-G.settings.overlapWidth)}if(G.settings.mode=="overlap"){S=((Z)?(T+(V-1)*(G.settings.overlapWidth+O)):((V-W)*(G.settings.overlapWidth+O)));x(S)}$selectedLevelHolder.css("visibility","visible");$selectedLevelHolder.find("."+G.settings.backItemClass).css("visibility","visible");$selectedLevelHolder.find("ul").css("visibility","visible");$selectedLevelHolder.removeClass(G.settings.menuInactiveClass)}else{a.error("Invalid menu object provided")}}else{a.error("No or too many menus named "+P)}}R.expandingEnded=true;C(R,X)}function o(){var R=arguments[0],P,O=D(),Q,N;if(typeof R=="object"){P=R}else{if(typeof R=="string"){P=H(R).eq(0)}else{P=a("#"+G.settings.menuID+" div.levelHolderClass:first")}}Q=w(P,O,true);N=(Q.length>0)?Math.max.apply(null,Q.map(function(){return a(this).attr("data-level")}).get()):0;if(N<O.attr("data-level")){z(N,[{method:s,args:arguments}])}else{s.apply(this,Array.prototype.slice.call(arguments))}return l}function H(){var N=arguments[0],O,P=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).children("h2").text()==N))});if(P.length>0){returnValue=P;O=returnValue}else{returnValue=false;O=returnValue}return O}function m(){var P=arguments[0],Q,O,N;if(P==undefined||P.length!=1){returnValue=false;return returnValue}Q=P.parents("div.levelHolderClass");O=a.merge(Q.get().reverse(),P.get());returnValue=O;return returnValue}function w(){var W=arguments[0],U=arguments[1],T=(arguments[2]!=undefined)?arguments[2]:false,S,P,R,Q,X,O,V,N;if(W==undefined||U==undefined){returnValue=false;return returnValue}S=(W.length==1)?W.parents("div.levelHolderClass"):null;P=(U.length==1)?U.parents("div.levelHolderClass"):null;R=(S!=null)?a.merge(S.get().reverse(),W.get()):[];Q=(P!=null)?a.merge(P.get().reverse(),U.get()):[];X=(R.length>=Q.length)?R:Q;O=(X===R)?Q:R;V=a(X).filter(function(){return(T)?(a.inArray(this,O)!=-1):(a.inArray(this,O)==-1)});returnValue=V;return returnValue}function D(){var O=G.settings.container.find("#"+G.settings.menuID+" div.levelHolderClass").filter(function(){return((parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0))}),N=Math.max.apply(null,O.map(function(){return a(this).attr("data-level")}).get());$activeLevelHolder=O.filter(function(){return a(this).attr("data-level")==N});returnValue=$activeLevelHolder;return returnValue}function f(){var O=arguments[0],N=false;if(O==undefined){return N}if(parseInt(O.css("margin-left"))>=0&&O.position().left>=0){N=true}return N}function C(N,P){var O=true;a.each(N,function(Q,R){O=O&&R});if(O){window.setTimeout(function(){a.each(P,function(Q,R){R.method.apply(this,Array.prototype.slice.call(R.args))})},1)}}function e(){var N=false;if(G.settings[arguments[0]]!=undefined){if(arguments[1]!=undefined){G.settings[arguments[0]]=arguments[1]}N=G.settings[arguments[0]]}else{a.error("No option "+arguments[0]+" found in jQuery.multilevelpushmenu")}return N}function k(){var N=false;(function(O){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(O)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(O.substr(0,4))){N=true}})(navigator.userAgent||navigator.vendor||window.opera);return N}if(A[c]){returnValue=A[c].apply(this,Array.prototype.slice.call(b,1));return returnValue}else{if(typeof c==="object"||!c){returnValue=A.init.apply(this,arguments);return returnValue}else{a.error("No "+c+" method found in jQuery.multilevelpushmenu")}}if(!returnValue){returnValue=this}});return returnValue}}(jQuery));